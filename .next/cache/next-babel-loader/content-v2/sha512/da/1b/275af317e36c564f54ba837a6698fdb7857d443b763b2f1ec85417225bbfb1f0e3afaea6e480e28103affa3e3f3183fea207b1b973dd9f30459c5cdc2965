{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { DataStore } from \"aws-amplify\";\nimport { useState, useEffect } from \"react\";\nimport { Bouquets } from \"../media/models\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport Backdrop from \"../components/loader/backdrop\";\nimport { Typography } from \"@material-ui/core\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { CardContent } from \"@material-ui/core\";\nimport AddToCartComponent from \"../cart/addToCart\";\nimport Custom404Component from \"../components/utils/custom404\";\nimport SimpleSnackbar from \"../cart/snackbar\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\nimport { Chip } from \"@material-ui/core\";\nexport default function BouquetDetails() {\n  const router = useRouter();\n  let slug = router.query.slug;\n  const {\n    0: bouquets,\n    1: setBouquets\n  } = useState([]);\n  const {\n    0: returned,\n    1: setReturned\n  } = useState(true);\n  const {\n    0: copy,\n    1: setCopy\n  } = useState(\"\");\n  useEffect(() => {\n    fetchPosts();\n\n    async function fetchPosts() {\n      const bouquetsData = await DataStore.query(Bouquets, item => item.slug(\"eq\", slug));\n\n      if (bouquetsData.length < 1) {\n        setReturned(false);\n      } else {\n        setBouquets(bouquetsData);\n      }\n    }\n\n    const subscription = DataStore.observe(Bouquets).subscribe(() => fetchPosts());\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const Copied = url => {\n    navigator.clipboard.writeText(`https://www.flowersghana.com/bouquet/${url}`);\n    setCopy(\"copied\");\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [bouquets.length < 1 && returned === true && /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(Backdrop, {})\n    }), bouquets.length < 1 && returned === false && /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(Custom404Component, {})\n    }), copy !== \"\" && /*#__PURE__*/_jsx(SimpleSnackbar, {\n      message: \"Copied!\"\n    }), bouquets.map((item, i) => {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Head, {\n          children: /*#__PURE__*/_jsxs(\"title\", {\n            children: [item.title, \" | FlowersGhana\"]\n          })\n        }), /*#__PURE__*/_jsxs(Grid, {\n          m: 4,\n          item: true,\n          xs: 12,\n          md: 5,\n          children: [/*#__PURE__*/_jsx(CardHeader, {\n            title: item.title,\n            subheader: /*#__PURE__*/_jsx(Chip, {\n              label: `â‚µ${item.amount}`,\n              color: \"secondary\"\n            })\n          }), /*#__PURE__*/_jsxs(CardContent, {\n            children: [/*#__PURE__*/_jsx(LazyLoadImage, {\n              slot: \"image\",\n              delayTime: 500,\n              placeholderSrc: `https://res.cloudinary.com/deyudesls/image/upload/c_scale,q_100,w_200/v1627491504/flowersghana%20logo.webp`,\n              effect: \"blur\",\n              src: `https://res.cloudinary.com/deyudesls/image/upload/c_scale,h_516,w_387/${item.img}`,\n              alt: item.title,\n              className: \"lazy\"\n            }), /*#__PURE__*/_jsxs(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              component: \"p\",\n              children: [/*#__PURE__*/_jsx(\"br\", {}), \"Tags:\", \" \", item.tags.split(\",\").map(tag => /*#__PURE__*/_jsxs(\"sl-badge\", {\n                type: \"info\",\n                children: [\" \", tag, \" \"]\n              }))]\n            }), /*#__PURE__*/_jsxs(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              component: \"p\",\n              children: [\"Copy link:\", /*#__PURE__*/_jsx(IconButton, {\n                \"aria-label\": \"share\",\n                children: /*#__PURE__*/_jsx(FileCopyOutlinedIcon, {\n                  color: copy !== '' ? 'secondary' : 'inherit',\n                  onClick: () => Copied(item.slug)\n                })\n              })]\n            }), /*#__PURE__*/_jsx(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              component: \"p\",\n              children: item.availability\n            })]\n          })]\n        }, Math.random()), /*#__PURE__*/_jsxs(Grid, {\n          item: true,\n          xs: 12,\n          md: 7,\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            children: \"Description\"\n          }), /*#__PURE__*/_jsx(Typography, {\n            paragraph: true,\n            children: item.description\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: [/*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(AddToCartComponent, {\n              itemTitle: item.title,\n              itemPrice: item.amount\n            })]\n          }, Math.random()), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"sl-details\", {\n            summary: \"What do we do if exact item is not available?\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              children: \"If the exact flowers, plants, or container you have selected is unavailable, we will create a beautiful bouquet with the freshest available plants or flowers. Only items of equal or higher value will be substituted.\"\n            })\n          })]\n        }, Math.random())]\n      });\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}