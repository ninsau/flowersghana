{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/mac/codespace/flowerghana/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/codespace/flowerghana/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/mac/codespace/flowerghana/calls/fetchAddOns.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ImageList from \"@material-ui/core/ImageList\";\nimport ImageListItem from \"@material-ui/core/ImageListItem\";\nimport ImageListItemBar from \"@material-ui/core/ImageListItemBar\";\nimport { DataStore, Predicates } from \"@aws-amplify/datastore\";\nimport { Bouquets } from \"../media/models\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    imageList: {\n      flexWrap: \"nowrap\",\n      // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n      transform: \"translateZ(0)\"\n    },\n    title: {\n      color: theme.palette.primary.white\n    },\n    titleBar: {\n      background: \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\"\n    }\n  };\n});\nexport default function FetchAddOns() {\n  _s();\n\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      bouquets = _useState[0],\n      setBouquets = _useState[1];\n\n  useEffect(function () {\n    fetchPosts();\n\n    function fetchPosts() {\n      return _fetchPosts.apply(this, arguments);\n    }\n\n    function _fetchPosts() {\n      _fetchPosts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var bouquetsData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return DataStore.query(Bouquets, function (item) {\n                  return item.or(function (item) {\n                    return item.category(\"contains\", \"add-on\");\n                  });\n                }, Predicates.ALL, {\n                  page: 0,\n                  limit: 18\n                });\n\n              case 2:\n                bouquetsData = _context.sent;\n                setBouquets(bouquetsData);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchPosts.apply(this, arguments);\n    }\n\n    var subscription = DataStore.observe(Bouquets).subscribe(function () {\n      return fetchPosts();\n    });\n    return function () {\n      return subscription.unsubscribe();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ImageList, {\n    className: classes.imageList,\n    cols: 3,\n    children: bouquets.map(function (item) {\n      return /*#__PURE__*/_jsxDEV(ImageListItem, {\n        onClick: function onClick() {\n          return location.replace(\"/bouquet/\".concat(item.slug));\n        },\n        children: [/*#__PURE__*/_jsxDEV(LazyLoadImage, {\n          delayTime: 500,\n          placeholderSrc: \"https://res.cloudinary.com/deyudesls/image/upload/c_scale,q_100,w_200/v1627491504/flowersghana%20logo.webp\",\n          effect: \"blur\",\n          src: \"https://res.cloudinary.com/deyudesls/image/upload/c_scale,h_516,w_387/\".concat(item.img),\n          alt: item.title,\n          className: \"bottom-images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n          title: item.title,\n          classes: {\n            root: classes.titleBar,\n            title: classes.title\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, _this)]\n      }, item.img, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FetchAddOns, \"oX+mfgQ/m9abonqtn1ooddELGpw=\", false, function () {\n  return [useStyles];\n});\n\n_c = FetchAddOns;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchAddOns\");","map":{"version":3,"sources":["/Users/mac/codespace/flowerghana/calls/fetchAddOns.js"],"names":["React","useState","useEffect","makeStyles","ImageList","ImageListItem","ImageListItemBar","DataStore","Predicates","Bouquets","LazyLoadImage","useStyles","theme","imageList","flexWrap","transform","title","color","palette","primary","white","titleBar","background","FetchAddOns","classes","bouquets","setBouquets","fetchPosts","query","item","or","category","ALL","page","limit","bouquetsData","subscription","observe","subscribe","unsubscribe","map","location","replace","slug","img","root"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ImageList from \"@material-ui/core/ImageList\";\nimport ImageListItem from \"@material-ui/core/ImageListItem\";\nimport ImageListItemBar from \"@material-ui/core/ImageListItemBar\";\nimport { DataStore, Predicates } from \"@aws-amplify/datastore\";\nimport { Bouquets } from \"../media/models\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  imageList: {\n    flexWrap: \"nowrap\",\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\",\n  },\n  title: {\n    color: theme.palette.primary.white,\n  },\n  titleBar: {\n    background:\n      \"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\",\n  },\n}));\n\nexport default function FetchAddOns() {\n  const classes = useStyles();\n  const [bouquets, setBouquets] = useState([]);\n\n  useEffect(() => {\n    fetchPosts();\n    async function fetchPosts() {\n      const bouquetsData = await DataStore.query(\n        Bouquets,\n        (item) => item.or((item) => item.category(\"contains\", \"add-on\")),\n        Predicates.ALL,\n        {\n          page: 0,\n          limit: 18,\n        }\n      );\n      setBouquets(bouquetsData);\n    }\n    const subscription = DataStore.observe(Bouquets).subscribe(() =>\n      fetchPosts()\n    );\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return (\n    <ImageList className={classes.imageList} cols={3}>\n      {bouquets.map((item) => (\n        <ImageListItem\n          key={item.img}\n          onClick={() => location.replace(`/bouquet/${item.slug}`)}\n        >\n          <LazyLoadImage\n            delayTime={500}\n            placeholderSrc={`https://res.cloudinary.com/deyudesls/image/upload/c_scale,q_100,w_200/v1627491504/flowersghana%20logo.webp`}\n            effect=\"blur\"\n            src={`https://res.cloudinary.com/deyudesls/image/upload/c_scale,h_516,w_387/${item.img}`}\n            alt={item.title}\n            className=\"bottom-images\"\n          />\n          <ImageListItemBar\n            title={item.title}\n            classes={{\n              root: classes.titleBar,\n              title: classes.title,\n            }}\n          />\n        </ImageListItem>\n      ))}\n    </ImageList>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}